<!DOCTYPE html>
<html lang="id" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO META TAGS (Default: Indonesia) -->
    <title>Kalkulator Tarif Freelance: Hitung Rate Per Jam (Update 2026)</title>
    <meta name="description" content="Hitung tarif per jam ideal freelance Anda secara akurat. Tools gratis dengan fitur Export PDF, Multi-Currency, dan Bilingual. Berdasarkan rumus pricing standar industri.">
    <meta name="keywords" content="kalkulator freelance, hitung tarif per jam, freelance rate calculator, cara menentukan harga jasa, tools freelance indonesia">
    <meta name="author" content="RateKu">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yourusername.github.io/freelance-rate-calculator/" />

    <!-- OPEN GRAPH / SOCIAL -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Kalkulator Tarif Freelance Profesional">
    <meta property="og:description" content="Jangan asal tebak harga. Gunakan kalkulator ini untuk menentukan tarif yang adil dan menguntungkan.">
    <meta property="og:image" content="https://yourusername.github.io/freelance-rate-calculator/og-image.jpg">

    <!-- LIBRARY: html2pdf (Deferred Load) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>

    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --primary: #4F46E5; /* Indigo 600 */
            --primary-hover: #4338CA;
            --bg-body: #F9FAFB;
            --bg-card: #FFFFFF;
            --text-head: #111827;
            --text-body: #4B5563;
            --border: #E5E7EB;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            --radius: 16px;
        }

        html.dark {
            --primary: #818CF8;
            --primary-hover: #6366F1;
            --bg-body: #111827; /* Gray 900 */
            --bg-card: #1F2937; /* Gray 800 */
            --text-head: #F9FAFB;
            --text-body: #9CA3AF;
            --border: #374151;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
        }

        /* --- BASE STYLES --- */
        * { box-sizing: border-box; margin: 0; padding: 0; transition: background-color 0.3s, color 0.3s, border-color 0.3s; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-body);
            line-height: 1.6;
        }

        .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }

        /* --- NAV & HEADER --- */
        nav {
            padding: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .logo { font-size: 1.5rem; font-weight: 800; color: var(--text-head); letter-spacing: -0.05em; }
        .logo span { color: var(--primary); }

        .controls { display: flex; gap: 10px; align-items: center; }

        select, button {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-head);
            font-size: 0.85rem;
            cursor: pointer;
            font-weight: 500;
        }
        
        button:hover, select:hover { border-color: var(--primary); }

        .lang-switch {
            display: flex;
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            background: var(--bg-card);
        }
        
        .lang-btn {
            border: none;
            border-radius: 0;
            padding: 8px 12px;
            background: transparent;
            opacity: 0.6;
        }
        
        .lang-btn.active {
            background: var(--primary);
            color: white;
            opacity: 1;
            font-weight: 700;
        }

        /* --- CALCULATOR CARD --- */
        .calculator-wrapper {
            background: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            overflow: hidden;
            margin-bottom: 60px;
        }

        .form-area { padding: 30px; }
        .result-area { 
            background: linear-gradient(135deg, #4F46E5 0%, #4338CA 100%);
            color: white; 
            padding: 30px; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
        }

        html.dark .result-area { background: linear-gradient(135deg, #312E81 0%, #3730A3 100%); }

        .input-group { margin-bottom: 20px; }
        label { display: block; font-size: 0.85rem; font-weight: 600; margin-bottom: 8px; color: var(--text-head); }
        
        .input-box {
            display: flex;
            align-items: center;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg-body);
            overflow: hidden;
        }
        .input-box span { padding: 10px 15px; color: var(--text-body); font-weight: 600; background: rgba(0,0,0,0.03); }
        .input-box input { width: 100%; padding: 10px; border: none; background: transparent; color: var(--text-head); font-size: 1rem; outline: none; }

        input[type="range"] { width: 100%; cursor: pointer; accent-color: var(--primary); margin-top: 10px; }

        /* RESULT TYPOGRAPHY */
        .res-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; opacity: 0.8; margin-bottom: 5px; }
        .res-value { font-size: 3rem; font-weight: 800; line-height: 1; margin-bottom: 5px; }
        .res-desc { font-size: 0.9rem; opacity: 0.9; margin-bottom: 25px; }
        
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px; margin-bottom: 25px; }
        .stat-item div:first-child { font-size: 0.75rem; opacity: 0.8; }
        .stat-item div:last-child { font-size: 1.1rem; font-weight: 700; }

        .btn-pdf {
            width: 100%; padding: 12px; background: white; color: var(--primary); border: none; border-radius: 8px; font-weight: 700; display: flex; justify-content: center; align-items: center; gap: 8px; cursor: pointer;
        }
        .btn-pdf:hover { background: #f0f0f0; }

        /* --- CONTENT SECTION --- */
        .content-area { max-width: 700px; margin: 0 auto 60px; }
        .content-area h2 { margin-top: 2rem; margin-bottom: 1rem; color: var(--text-head); }
        .content-area p, .content-area li { margin-bottom: 1rem; color: var(--text-body); }
        
        footer { text-align: center; padding: 40px; border-top: 1px solid var(--border); font-size: 0.85rem; color: var(--text-body); }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .calculator-wrapper { grid-template-columns: 1fr; }
            .logo { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

<div class="container">
    <nav>
        <div class="logo">RateKu<span>.</span></div>
        <div class="controls">
            <!-- Language Toggle -->
            <div class="lang-switch">
                <button class="lang-btn active" onclick="setLang('id')" id="btn-id">ID</button>
                <button class="lang-btn" onclick="setLang('en')" id="btn-en">EN</button>
            </div>

            <select id="currency-select" aria-label="Pilih Mata Uang">
                <option value="IDR">IDR (Rp)</option>
                <option value="USD">USD ($)</option>
                <option value="EUR">EUR (â‚¬)</option>
            </select>
            
            <button id="theme-toggle" aria-label="Mode Gelap">ðŸŒ“</button>
        </div>
    </nav>

    <header style="text-align: center; margin-bottom: 40px;">
        <h1 data-i18n="main_title" style="font-size: 2.2rem; margin-bottom: 15px;">Kalkulator Tarif Freelance</h1>
        <p data-i18n="main_desc" style="max-width: 600px; margin: 0 auto; color: var(--text-body);">
            Hitung tarif per jam ideal Anda berdasarkan target pendapatan dan biaya operasional. Jangan asal menentukan harga.
        </p>
    </header>

    <main>
        <div class="calculator-wrapper" id="pdf-container">
            <!-- INPUTS -->
            <div class="form-area">
                <div class="input-group">
                    <label data-i18n="label_income">Target Pendapatan Tahunan (Bersih)</label>
                    <div class="input-box">
                        <span class="curr-sym">Rp</span>
                        <input type="number" id="income" value="120000000">
                    </div>
                </div>

                <div class="input-group">
                    <label data-i18n="label_expenses">Biaya Operasional Tahunan</label>
                    <div class="input-box">
                        <span class="curr-sym">Rp</span>
                        <input type="number" id="expenses" value="15000000">
                    </div>
                </div>

                <div class="input-group">
                    <label><span data-i18n="label_hours">Jam Kerja Efektif (Mingguan)</span>: <strong id="hours-val" style="color:var(--primary)">25</strong></label>
                    <input type="range" id="hours-slider" min="5" max="60" value="25">
                    <p data-i18n="desc_hours" style="font-size:0.75rem; color:var(--text-body); margin-top:5px;">Hanya jam yang dibayar (bukan admin/marketing).</p>
                </div>

                <div class="input-group">
                    <label><span data-i18n="label_weeks">Cuti / Libur (Per Tahun)</span>: <strong id="weeks-val" style="color:var(--primary)">4</strong></label>
                    <input type="range" id="weeks-slider" min="0" max="12" value="4">
                    <p data-i18n="desc_weeks" style="font-size:0.75rem; color:var(--text-body); margin-top:5px;">Liburan, hari raya, atau sakit.</p>
                </div>
            </div>

            <!-- RESULTS -->
            <div class="result-area">
                <div class="res-title" data-i18n="res_rate_title">Tarif Minimum Anda</div>
                <div class="res-value" id="res-rate">0</div>
                <div class="res-desc" data-i18n="res_rate_desc">per jam untuk mencapai target.</div>

                <div class="stat-grid">
                    <div class="stat-item">
                        <div data-i18n="res_gross">Target Kotor</div>
                        <div id="res-gross">0</div>
                    </div>
                    <div class="stat-item">
                        <div data-i18n="res_hours">Total Jam Billable</div>
                        <div id="res-total-hours">0</div>
                    </div>
                </div>

                <button class="btn-pdf" onclick="generatePDF()">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M13 10H18L12 16L6 10H11V3H13V10ZM4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19Z"></path></svg>
                    <span data-i18n="btn_pdf">Download Laporan PDF</span>
                </button>
            </div>
        </div>

        <!-- PILLAR CONTENT (SEO TEXT) -->
        <article class="content-area">
            <h2 data-i18n="art_h1">Mengapa Menghitung Tarif Itu Penting?</h2>
            <p data-i18n="art_p1">Banyak freelancer pemula menentukan harga hanya berdasarkan perasaan atau meniru teman. Ini berbahaya. Kalkulator ini menggunakan metode "Cost-Plus Pricing" untuk memastikan bisnis Anda berkelanjutan.</p>
            
            <h2 data-i18n="art_h2">Jebakan "Jam Kerja" Freelancer</h2>
            <p data-i18n="art_p2">Ingat, Anda tidak bisa menagih klien untuk 40 jam kerja per minggu. Rata-rata freelancer hanya memiliki 20-25 jam efektif (billable hours). Sisanya habis untuk mencari klien, membalas email, dan administrasi. Alat ini otomatis memperhitungkan faktor tersebut.</p>

            <h3 data-i18n="art_h3">Rumus Perhitungan</h3>
            <blockquote style="border-left: 4px solid var(--primary); padding-left: 15px; font-style: italic; background: rgba(0,0,0,0.02); padding: 10px;">
                (Gaji + Biaya) Ã· (Jam Mingguan Ã— (52 - Minggu Libur))
            </blockquote>
        </article>
    </main>

    <footer>
        &copy; 2024 RateKu Open Source Project. <span data-i18n="footer">Dibuat untuk komunitas freelancer.</span>
    </footer>
</div>

<script>
    // --- DICTIONARY (TRANSLATIONS) ---
    const translations = {
        id: {
            main_title: "Kalkulator Tarif Freelance",
            main_desc: "Hitung tarif per jam ideal Anda berdasarkan target pendapatan dan biaya operasional. Jangan asal menentukan harga.",
            label_income: "Target Pendapatan Tahunan (Bersih)",
            label_expenses: "Biaya Operasional Tahunan",
            label_hours: "Jam Kerja Efektif (Mingguan)",
            desc_hours: "Hanya jam yang dibayar (bukan admin/marketing).",
            label_weeks: "Cuti / Libur (Per Tahun)",
            desc_weeks: "Liburan, hari raya, atau sakit.",
            res_rate_title: "Tarif Minimum Anda",
            res_rate_desc: "per jam untuk mencapai target.",
            res_gross: "Target Kotor (Gross)",
            res_hours: "Total Jam Billable",
            btn_pdf: "Download Laporan PDF",
            art_h1: "Mengapa Menghitung Tarif Itu Penting?",
            art_p1: "Banyak freelancer pemula menentukan harga hanya berdasarkan perasaan atau meniru teman. Ini berbahaya. Kalkulator ini menggunakan metode \"Cost-Plus Pricing\" untuk memastikan bisnis Anda berkelanjutan.",
            art_h2: "Jebakan \"Jam Kerja\" Freelancer",
            art_p2: "Ingat, Anda tidak bisa menagih klien untuk 40 jam kerja per minggu. Rata-rata freelancer hanya memiliki 20-25 jam efektif (billable hours). Sisanya habis untuk mencari klien, membalas email, dan administrasi. Alat ini otomatis memperhitungkan faktor tersebut.",
            art_h3: "Rumus Perhitungan",
            footer: "Dibuat untuk komunitas freelancer.",
            unit_week: "Minggu",
            unit_hour: "Jam"
        },
        en: {
            main_title: "Freelance Rate Calculator",
            main_desc: "Calculate your ideal hourly rate based on income goals and expenses. Stop guessing, start charging your worth.",
            label_income: "Target Annual Income (Net)",
            label_expenses: "Annual Business Expenses",
            label_hours: "Billable Hours (Weekly)",
            desc_hours: "Only hours you charge for (excludes admin/marketing).",
            label_weeks: "Weeks Off (Per Year)",
            desc_weeks: "Vacation, sick days, or holidays.",
            res_rate_title: "Your Minimum Rate",
            res_rate_desc: "per hour to reach your goal.",
            res_gross: "Gross Target",
            res_hours: "Total Billable Hours",
            btn_pdf: "Download PDF Report",
            art_h1: "Why Calculation Matters?",
            art_p1: "Many beginners set prices based on guesswork. This tool uses the 'Cost-Plus Pricing' method to ensure your freelance business is sustainable and profitable.",
            art_h2: "The 'Billable Hours' Trap",
            art_p2: "Remember, you cannot bill clients for 40 hours a week. Average freelancers only have 20-25 billable hours. The rest goes to marketing, emails, and admin. This tool adjusts for that reality.",
            art_h3: "The Formula",
            footer: "Built for the freelance community.",
            unit_week: "Weeks",
            unit_hour: "Hours"
        }
    };

    // --- STATE VARIABLES ---
    let currentLang = 'id'; // Default Language
    let currentCurrency = 'IDR';
    let currentLocale = 'id-ID';

    // --- ELEMENTS ---
    const els = {
        income: document.getElementById('income'),
        expenses: document.getElementById('expenses'),
        hSlider: document.getElementById('hours-slider'),
        wSlider: document.getElementById('weeks-slider'),
        hVal: document.getElementById('hours-val'),
        wVal: document.getElementById('weeks-val'),
        resRate: document.getElementById('res-rate'),
        resGross: document.getElementById('res-gross'),
        resTotalH: document.getElementById('res-total-hours'),
        currSym: document.querySelectorAll('.curr-sym')
    };

    // --- LOGIC: LANGUAGE ---
    function setLang(lang) {
        currentLang = lang;
        
        // Update Buttons
        document.getElementById('btn-id').classList.toggle('active', lang === 'id');
        document.getElementById('btn-en').classList.toggle('active', lang === 'en');

        // Update Text Content
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang][key]) {
                el.innerText = translations[lang][key];
            }
        });

        // Update Document Title
        document.title = lang === 'id' ? "Kalkulator Tarif Freelance" : "Freelance Rate Calculator";

        // Save Preference
        localStorage.setItem('lang', lang);
        
        // Recalculate to update units (Jam vs Hours)
        calculate();
    }

    // --- LOGIC: CALCULATOR ---
    function formatMoney(num) {
        // Jika Bahasa Indonesia dipilih, pakai format Indonesia (titik sebagai ribuan)
        // Jika Bahasa Inggris, pakai format US (koma sebagai ribuan)
        const localeForNum = currentLang === 'id' ? 'id-ID' : 'en-US';
        
        return new Intl.NumberFormat(localeForNum, { 
            style: 'currency', 
            currency: currentCurrency,
            maximumFractionDigits: 0 
        }).format(num);
    }

    function calculate() {
        const income = parseFloat(els.income.value) || 0;
        const expenses = parseFloat(els.expenses.value) || 0;
        const hours = parseFloat(els.hSlider.value);
        const weeks = parseFloat(els.wSlider.value);

        // Update Slider Labels with correct Language Unit
        const unitH = translations[currentLang].unit_hour;
        const unitW = translations[currentLang].unit_week;
        els.hVal.textContent = `${hours} ${unitH}`;
        els.wVal.textContent = `${weeks} ${unitW}`;

        const totalWeeks = 52 - weeks;
        const totalHours = hours * totalWeeks;
        const targetGross = income + expenses;

        let rate = 0;
        if (totalHours > 0) rate = targetGross / totalHours;

        els.resRate.textContent = formatMoney(rate);
        els.resGross.textContent = formatMoney(targetGross);
        
        // Format Total Hours Number
        const localeNum = currentLang === 'id' ? 'id-ID' : 'en-US';
        els.resTotalH.textContent = `${totalHours.toLocaleString(localeNum)} ${unitH}`;
    }

    // --- EVENTS ---
    [els.income, els.expenses, els.hSlider, els.wSlider].forEach(el => el.addEventListener('input', calculate));
    
    document.getElementById('currency-select').addEventListener('change', (e) => {
        currentCurrency = e.target.value;
        const sym = currentCurrency === 'IDR' ? 'Rp' : (currentCurrency === 'EUR' ? 'â‚¬' : '$');
        els.currSym.forEach(s => s.textContent = sym);
        calculate();
    });

    document.getElementById('theme-toggle').addEventListener('click', () => {
        const isDark = document.documentElement.classList.toggle('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // PDF Export
    function generatePDF() {
        const element = document.getElementById('pdf-container');
        const btn = document.querySelector('.btn-pdf');
        
        btn.style.display = 'none'; // Hide button
        const opt = {
            margin: 10,
            filename: `freelance-rate-${currentLang}.pdf`, // Dynamic filename
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'landscape' }
        };
        
        html2pdf().set(opt).from(element).save().then(() => btn.style.display = 'flex');
    }

    // --- INITIALIZATION ---
    // 1. Check Theme
    if (localStorage.getItem('theme') === 'dark') document.documentElement.classList.add('dark');
    
    // 2. Check Lang (Default to ID if none)
    const savedLang = localStorage.getItem('lang') || 'id';
    setLang(savedLang);

    // 3. Init Calc
    calculate();

</script>

</body>
</html>
